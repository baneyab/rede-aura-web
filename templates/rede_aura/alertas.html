{% extends 'rede_aura/base_dashboard.html' %}

{% block aura_content %}

<style>
    .alert-card {
        background: white;
        border-radius: 20px;
        padding: 25px;
        margin-bottom: 20px;
        box-shadow: 0 4px 15px rgba(0,0,0,0.02);
        border: 1px solid transparent;
        display: flex;
        align-items: center;
        transition: transform 0.2s;
    }
    .alert-card:hover { transform: translateY(-3px); }

    /* Cores */
    .border-yellow { border-left: 5px solid #ffeaa7; background-color: #fffcf0; }
    .icon-yellow { background-color: #ffeaa7; color: #d4ac0d; }

    .border-blue { border-left: 5px solid #74b9ff; background-color: #f0f8ff; }
    .icon-blue { background-color: #cce5ff; color: #0056b3; }

    .border-green { border-left: 5px solid #55efc4; background-color: #f0fff4; }
    .icon-green { background-color: #d4edda; color: #155724; }

    .alert-icon {
        width: 50px; height: 50px;
        border-radius: 50%;
        display: flex; align-items: center; justify-content: center;
        font-size: 22px;
        margin-right: 20px;
        flex-shrink: 0;
    }
</style>

<h4 class="font-weight-bold mb-4 text-dark">Alertas e Notificações</h4>

{% for aviso in notificacoes %}
    <div class="alert-card {% if aviso.tipo == 'AVISO' %}border-yellow{% elif aviso.tipo == 'SISTEMA' %}border-blue{% else %}border-green{% endif %}">
        
        <div class="alert-icon {% if aviso.tipo == 'AVISO' %}icon-yellow{% elif aviso.tipo == 'SISTEMA' %}icon-blue{% else %}icon-green{% endif %}">
            {% if aviso.tipo == 'AVISO' %}<i class="fas fa-exclamation"></i>{% elif aviso.tipo == 'SISTEMA' %}<i class="fas fa-cog"></i>{% else %}<i class="fas fa-check"></i>{% endif %}
        </div>

        <div class="flex-grow-1">
            <h6 class="font-weight-bold mb-1 text-dark">{{ aviso.titulo }}</h6>
            <p class="mb-1 small text-muted">{{ aviso.mensagem }}</p>
            <small class="text-muted" style="font-size: 11px;">{{ aviso.data|timesince }} atrás</small>
        </div>
    </div>
{% empty %}
    <div class="text-center py-5">
        <div class="bg-light rounded-circle d-flex align-items-center justify-content-center mx-auto mb-3" style="width: 80px; height: 80px;">
            <i class="fas fa-bell-slash text-muted" style="font-size: 30px;"></i>
        </div>
        <h6 class="text-muted">Nenhuma notificação nova.</h6>
    </div>
{% endfor %}

{% endblock %}